<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
<title>Explorateurs 6 ans â€“ 50 niveaux</title>
<style>
  :root{
    --bleu:#3F8CFF;
    --rose:#FF5C8D;
    --vert:#00C896;
    --jaune:#FFB400;
    --violet:#8A5CFF;
    --bg:#F3F7FF;
  }
  *{box-sizing:border-box;font-family:'Segoe UI',Arial,sans-serif}
  body{margin:0;background:var(--bg);overflow:hidden}
  #screen{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}
  header{position:absolute;top:0;left:0;right:0;height:56px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center;font-size:5vmin;color:var(--bleu)}
  #zone{flex:1;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:4vmin;padding:20px}
  .card{width:28vmin;height:28vmin;border-radius:18px;box-shadow:0 6px 20px rgba(0,0,0,.15);display:flex;align-items:center;justify-content:center;font-size:13vmin;cursor:pointer;transition:transform .3s}
  .card:active{transform:scale(.92)}
  .hidden{display:none}
  #msg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:20px;padding:25px;box-shadow:0 8px 30px rgba(0,0,0,.25);text-align:center;font-size:5vmin}
  button{margin-top:15px;padding:12px 24px;border:none;border-radius:12px;background:var(--bleu);color:#fff;font-size:4vmin}
  #stars{font-size:7vmin;margin:5px}
  @keyframes pop{0%{transform:scale(.5) rotate(-12deg)}60%{transform:scale(1.2) rotate(6deg)}100%{transform:scale(1) rotate(0)}}
  .pop{animation:pop .5s forwards}
</style>
</head>
<body>
<div id="screen">
  <header id="title">Explorateurs 6 ans</header>
  <div id="zone"></div>
  <div id="msg" class="hidden"></div>
</div>

<script>
/* ---------- 50 NIVEAUX ---------- */
/* Chaque entrÃ©e : {type, consigne, items, bon} */
const niveaux = [
  /* ANIMAUX â€“ 10 niveaux */
  {theme:'ðŸ¯ Animaux',type:'tap', consigne:'Touche le chat', items:['ðŸ¶','ðŸ±','ðŸ­'], bon:'ðŸ±'},
  {theme:'ðŸ¯ Animaux',type:'tap', consigne:'Touche le dauphin', items:['ðŸ¦ˆ','ðŸ¬','ðŸ '], bon:'ðŸ¬'},
  {theme:'ðŸ¯ Animaux',type:'tap', consigne:'Touche le panda', items:['ðŸ»','ðŸ¼','ðŸ¦'], bon:'ðŸ¼'},
  {theme:'ðŸ¯ Animaux',type:'tri', consigne:'Clique les animaux du plus petit au plus grand', items:['ðŸ˜','ðŸ€','ðŸ„'], bon:['ðŸ€','ðŸ„','ðŸ˜']},
  {theme:'ðŸ¯ Animaux',type:'tri', consigne:'Mets les oiseaux du plus lÃ©ger au plus lourd', items:['ðŸ¦…','ðŸ§','ðŸ¦¢'], bon:['ðŸ§','ðŸ¦¢','ðŸ¦…']},
  {theme:'ðŸ¯ Animaux',type:'calc', consigne:'3 chats + 2 chats = ?', items:['4','5','6'], bon:'5'},
  {theme:'ðŸ¯ Animaux',type:'calc', consigne:'Il y a 4 chiots, 3 partent, il reste ?', items:['1','2','3'], bon:'1'},
  {theme:'ðŸ¯ Animaux',type:'memo', consigne:'Retrouve lâ€™animal cachÃ© !', items:['ðŸ¶','ðŸ±','ðŸ­','ðŸ¹'], bon:'ðŸ±'},
  {theme:'ðŸ¯ Animaux',type:'memo', consigne:'Retrouve le reptile', items:['ðŸ¸','ðŸ¢','ðŸ','ðŸ¦Ž'], bon:'ðŸ'},
  {theme:'ðŸ¯ Animaux',type:'tap', consigne:'Touche lâ€™animal qui pond des Å“ufs', items:['ðŸ“','ðŸ„','ðŸ•'], bon:'ðŸ“'},

  /* ESPACE â€“ 10 niveaux */
  {theme:'ðŸš€ Espace',type:'tap', consigne:'Touche la planÃ¨te rouge', items:['ðŸª','ðŸŒ','ðŸ”´'], bon:'ðŸ”´'},
  {theme:'ðŸš€ Espace',type:'tap', consigne:'Touche la comÃ¨te', items:['â­','â˜„ï¸','ðŸŒ™'], bon:'â˜„ï¸'},
  {theme:'ðŸš€ Espace',type:'tri', consigne:'Mets les astres du plus chaud au plus froid', items:['â˜€ï¸','ðŸŒ','â„ï¸'], bon:['â˜€ï¸','ðŸŒ','â„ï¸']},
  {theme:'ðŸš€ Espace',type:'calc', consigne:'9 planÃ¨tes â€“ 5 planÃ¨tes = ?', items:['3','4','5'], bon:'4'},
  {theme:'ðŸš€ Espace',type:'calc', consigne:'2 fusÃ©es + 3 fusÃ©es = ?', items:['4','5','6'], bon:'5'},
  {theme:'ðŸš€ Espace',type:'memo', consigne:'Retrouve la galaxie', items:['ðŸŒŒ','ðŸŒ ','ðŸŒ','ðŸª'], bon:'ðŸŒŒ'},
  {theme:'ðŸš€ Espace',type:'tap', consigne:'Touche lâ€™astronaute', items:['ðŸ‘©â€ðŸš€','ðŸ›¸','ðŸŒ•'], bon:'ðŸ‘©â€ðŸš€'},
  {theme:'ðŸš€ Espace',type:'tri', consigne:'Mets les objets du plus petit au plus grand', items:['ðŸ›°ï¸','ðŸš€','ðŸŒŒ'], bon:['ðŸ›°ï¸','ðŸš€','ðŸŒŒ']},
  {theme:'ðŸš€ Espace',type:'calc', consigne:'Il y avait 7 Ã©toiles, 2 ont explosÃ©, reste ?', items:['4','5','6'], bon:'5'},
  {theme:'ðŸš€ Espace',type:'memo', consigne:'Retrouve la lune', items:['ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ•'], bon:'ðŸŒ•'},

  /* VILLE â€“ 10 niveaux */
  {theme:'ðŸª Ville',type:'tap', consigne:'Touche le feu rouge', items:['ðŸš¦','ðŸ›‘','âš ï¸'], bon:'ðŸš¦'},
  {theme:'ðŸª Ville',type:'tap', consigne:'Touche lâ€™hÃ´pital', items:['ðŸ¥','ðŸ¨','ðŸ¢'], bon:'ðŸ¥'},
  {theme:'ðŸª Ville',type:'tri', consigne:'Mets les vÃ©hicules du plus lent au plus rapide', items:['ðŸš²','ðŸš—','âœˆï¸'], bon:['ðŸš²','ðŸš—','âœˆï¸']},
  {theme:'ðŸª Ville',type:'calc', consigne:'4 bus + 3 bus = ?', items:['6','7','8'], bon:'7'},
  {theme:'ðŸª Ville',type:'calc', consigne:'9 pains â€“ 3 pains = ?', items:['5','6','7'], bon:'6'},
  {theme:'ðŸª Ville',type:'memo', consigne:'Retrouve le boulanger', items:['ðŸ‘¨â€ðŸ³','ðŸ‘©â€ðŸŒ¾','ðŸ‘¨â€ðŸž','ðŸ‘·'], bon:'ðŸ‘¨â€ðŸž'},
  {theme:'ðŸª Ville',type:'tap', consigne:'Touche le camion de pompiers', items:['ðŸš’','ðŸš“','ðŸš‘'], bon:'ðŸš’'},
  {theme:'ðŸª Ville',type:'tap', consigne:'Touche la maison', items:['ðŸ ','ðŸ­','ðŸ¢'], bon:'ðŸ '},
  {theme:'ðŸª Ville',type:'tri', consigne:'Mets les mÃ©tiers du plus tÃ´t au plus tard dans la journÃ©e', items:['ðŸ‘©â€ðŸ³','ðŸ‘®','ðŸ‘©â€ðŸŽ¨'], bon:['ðŸ‘©â€ðŸ³','ðŸ‘®','ðŸ‘©â€ðŸŽ¨']},
  {theme:'ðŸª Ville',type:'calc', consigne:'5 livreurs + 0 livreurs = ?', items:['4','5','6'], bon:'5'},

  /* NATURE â€“ 10 niveaux */
  {theme:'ðŸŒ± Nature',type:'tap', consigne:'Touche lâ€™arbre', items:['ðŸŒ³','ðŸŒ²','ðŸŒ´'], bon:'ðŸŒ³'},
  {theme:'ðŸŒ± Nature',type:'tap', consigne:'Touche la fleur', items:['ðŸŒ·','ðŸŒ¿','ðŸŒ±'], bon:'ðŸŒ·'},
  {theme:'ðŸŒ± Nature',type:'tri', consigne:'Mets les saisons dans lâ€™ordre', items:['ðŸ‚','â˜€ï¸','â„ï¸'], bon:['â˜€ï¸','ðŸ‚','â„ï¸']},
  {theme:'ðŸŒ± Nature',type:'calc', consigne:'6 graines + 4 graines = ?', items:['9','10','11'], bon:'10'},
  {theme:'ðŸŒ± Nature',type:'calc', consigne:'12 feuilles â€“ 7 feuilles = ?', items:['4','5','6'], bon:'5'},
  {theme:'ðŸŒ± Nature',type:'memo', consigne:'Retrouve le fruit rouge', items:['ðŸ“','ðŸŒ','ðŸ‡','ðŸ‰'], bon:'ðŸ“'},
  {theme:'ðŸŒ± Nature',type:'tap', consigne:'Touche le soleil', items:['â˜€ï¸','ðŸŒ¤ï¸','ðŸŒ¦ï¸'], bon:'â˜€ï¸'},
  {theme:'ðŸŒ± Nature',type:'tri', consigne:'Mets les mois du printemps', items:['ðŸŒ¸','ðŸŒž','ðŸ‚'], bon:['ðŸŒ¸','ðŸŒž']},
  {theme:'ðŸŒ± Nature',type:'calc', consigne:'3 pommes + 2 poires = ? fruits', items:['4','5','6'], bon:'5'},
  {theme:'ðŸŒ± Nature',type:'memo', consigne:'Retrouve la lune', items:['ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ•'], bon:'ðŸŒ•'},

  /* TRANSPORTS â€“ 10 niveaux */
  {theme:'ðŸš‚ Transports',type:'tap', consigne:'Touche le train', items:['ðŸš‚','ðŸšŒ','ðŸš'], bon:'ðŸš‚'},
  {theme:'ðŸš‚ Transports',type:'tap', consigne:'Touche le bateau', items:['ðŸ›³ï¸','â›µ','ðŸš¤'], bon:'â›µ'},
  {theme:'ðŸš‚ Transports',type:'tri', consigne:'Mets les vÃ©hicules du plus lÃ©ger au plus lourd', items:['ðŸ›´','ðŸš²','ðŸšš'], bon:['ðŸ›´','ðŸš²','ðŸšš']},
  {theme:'ðŸš‚ Transports',type:'calc', consigne:'4 avions + 3 avions = ?', items:['6','7','8'], bon:'7'},
  {theme:'ðŸš‚ Transports',type:'calc', consigne:'10 vÃ©los â€“ 4 vÃ©los = ?', items:['5','6','7'], bon:'6'},
  {theme:'ðŸš‚ Transports',type:'memo', consigne:'Retrouve le scooter', items:['ðŸ›µ','ðŸï¸','ðŸš²','ðŸš—'], bon:'ðŸ›µ'},
  {theme:'ðŸš‚ Transports',type:'tap', consigne:'Touche le hÃ©licoptÃ¨re', items:['ðŸš','âœˆï¸','ðŸ›¸'], bon:'ðŸš'},
  {theme:'ðŸš‚ Transports',type:'tap', consigne:'Touche le sous-marin', items:['ðŸ›³ï¸','ðŸš¤','ðŸš¢'], bon:'ðŸš¢'},
  {theme:'ðŸš‚ Transports',type:'tri', consigne:'Mets les transports du plus ancien au plus moderne', items:['ðŸš‚','ðŸš—','ðŸš€'], bon:['ðŸš‚','ðŸš—','ðŸš€']},
  {theme:'ðŸš‚ Transports',type:'calc', consigne:'9 cars + 0 cars = ?', items:['8','9','10'], bon:'9'}
];

/* ---------- Ã‰TAT ---------- */
let etat = JSON.parse(localStorage.getItem('progres')) || {niveau:0,etoiles:Array(niveaux.length).fill(0)};
const totalNiveaux = niveaux.length;

/* ---------- UTILITAIRES ---------- */
const $ = id => document.getElementById(id);
function parle(txt){
  speechSynthesis.cancel();
  speechSynthesis.speak(new SpeechSynthesisUtterance(txt));
}
function sauve(){
  localStorage.setItem('progres',JSON.stringify(etat));
}

/* ---------- AFFICHAGE ---------- */
function afficheMessage(html,cb){
  $('msg').innerHTML = html + '<br><button onclick="suite()">OK</button>';
  $('msg').classList.remove('hidden');
  function suite(){ $('msg').classList.add('hidden'); cb(); }
}

function lanceNiveau(){
  const n = niveaux[etat.niveau];
  $('title').textContent = `Niveau ${etat.niveau+1} / ${totalNiveaux}`;
  $('zone').innerHTML='';
  parle(n.consigne);

  /* TAP */
  if(n.type==='tap'){
    n.items.forEach(it=>{
      const d=document.createElement('div');
      d.className='card';
      d.textContent=it;
      d.onclick=()=>valide(it===n.bon);
      $('zone').appendChild(d);
    });
  }
  /* TRI */
  if(n.type==='tri'){
    etat.tri=[];
    n.items.forEach(it=>{
      const d=document.createElement('div');
      d.className='card';
      d.textContent=it;
      d.onclick=()=>{
        d.style.visibility='hidden';
        etat.tri.push(it);
        if(etat.tri.length===n.bon.length){
          valide(JSON.stringify(etat.tri)===JSON.stringify(n.bon));
        }
      };
      $('zone').appendChild(d);
    });
  }
  /* CALC */
  if(n.type==='calc'){
    const q=document.createElement('div');
    q.style.width='100%';q.style.textAlign='center';q.style.fontSize='6vmin';
    q.textContent=n.consigne;
    $('zone').appendChild(q);
    n.items.forEach(it=>{
      const d=document.createElement('div');
      d.className='card';
      d.textContent=it;
      d.onclick=()=>valide(it===n.bon);
      $('zone').appendChild(d);
    });
  }
  /* MEMO */
  if(n.type==='memo'){
    const q=document.createElement('div');
    q.style.width='100%';q.style.textAlign='center';q.style.fontSize='6vmin';
    q.textContent=n.consigne;
    $('zone').appendChild(q);

    const dispo = [...n.items].sort(()=>Math.random()-.5);
    dispo.forEach(it=>{
      const d=document.createElement('div');
      d.className='card';
      d.textContent='â“';
      d.onclick=()=>valide(it===n.bon);
      d.dataset.v=it;
      $('zone').appendChild(d);
    });
    /* rÃ©vÃ©lation 1 seconde */
    setTimeout(()=>{
      [...$('zone').children].forEach(c=>{
        if(c.dataset.v) c.textContent=c.dataset.v;
      });
      setTimeout(()=>{
        [...$('zone').children].forEach(c=>{
          if(c.dataset.v) c.textContent='â“';
        });
      },1000);
    },500);
  }
}

function valide(ok){
  if(ok){
    etat.etoiles[etat.niveau]=1;
    sauve();
    const star=document.createElement('div');
    star.textContent='â­';star.className='pop';star.style.fontSize='20vmin';
    document.body.appendChild(star);
    setTimeout(()=>star.remove(),800);
    afficheMessage('GagnÃ© !',()=>{
      etat.niveau=(etat.niveau+1)%totalNiveaux;
      if(etat.niveau===0) afficheMessage('ðŸ† Tous les niveaux finis !',()=>lanceNiveau());
      else lanceNiveau();
    });
  }else{
    afficheMessage('Essaye encore',lanceNiveau);
  }
}

lanceNiveau();
</script>
</body>
</html>